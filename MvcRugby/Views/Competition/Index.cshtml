@model IEnumerable<MvcRugby.Models.Competition>

@{
    ViewData["Title"] = "Index";
}

<h1>Competitions - Seasons</h1>
<hr>

<h4>Create New Competition - Season</h4>
<a class="btn btn-primary" asp-action="Create">Create</a>
<hr>

<h4>Sync Seasons from Sport Radar Api</h4>
<a class="btn btn-primary" asp-controller="SportRadar" asp-action="SyncSeasonsEndPoint">Sync</a>
<hr>

<!-- Add SCompetition cards -->
@if (Model != null && Model.Any())
{
  <div class="container">
    <div class="row">
      @foreach (var competition in Model)
      {
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card h-100">
            @* <img class="card-img-top" src="@Html.DisplayFor(modelItem => season.Image)" alt="@Html.DisplayNameFor(model => product.Image)" width="100%", height = "400px"> *@
            <div class="card-body">
              <h5 class="card-title">@competition.Competition_Name</h5> 
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">@competition.Start_Date</li>
              <li class="list-group-item">@competition.End_Date</li>
              <li class="list-group-item">@competition.Year</li>
            </ul>
            <div class="card-body">
                <a class="btn btn-primary" asp-controller="Fixture" asp-action="Index" asp-route-id="@competition.CompetitionId">Select</a>
                <a class="btn btn-success" asp-controller="Competition" asp-action="Details" asp-route-id="@competition.CompetitionId">View Details</a>
                <a class="btn btn-warning" asp-controller="Competition" asp-action="Edit" asp-route-id="@competition.CompetitionId">Edit</a>
                <a class="btn btn-danger" asp-controller="Competition" asp-action="Delete" asp-route-id="@competition.CompetitionId">Delete</a>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
}
else
{
  <p>No competitions found.</p>
}

@* 
<table class="table table-dark table-bordered">
    <!-- Table headers -->
    <thead>
        <tr>
            <!-- static left column header -->
            <th scope="col">Position</th>
            
            <!-- Name each individual Team in the round -->
            @foreach (var competition in Model) // Need to change this to one competition (the comp selected)
            {
              @foreach (var fixture in Model.Fixtures)
              
              <th scope="col">@team.TeamName</th>
            }
        </tr>
    </thead>
    <!-- table content -->
    <tbody>
        <!-- iterate over each team position -->
        @for (int i = 1; i <= 23; i++)
        {
            <!-- Add row of data -->
            <tr>
                <table class="table table-striped table-bordered">
                    <tbody>
                        <tr>
                            <th>Player Name: </th>
                            <td>Zeb PLayer 1 </td>
                            <td>Sharks Player 1</td>
                        </tr>
                        <tr>
                            <td scope="col">Number: @i</td>
                            <!-- Note: Include a foreach loop under each statistic. For each team, add a column with the relevant data agaians each statistic -->
                            <!-- foreach (var team in Model.RoundDetails?.FirstOrDefault()?.Teams) -->
                            <!-- <td> Corresponding statistic </td> -->
                        </tr>
                        <tr>
                            <td>Position: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Ball Possession: </td>
                            @foreach(var competition in Model)
                            {
                              @foreach(var fixture in competition.Fixtures)
                              {
                                @foreach(var stat in fixture.fixtureStatistics)
                                {
                                  @stat.Ball_Possessition;
                                }
                              }
                            }
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Carries: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Clean Breaks: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Conversions: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Drop Goals: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Lineouts won: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Meters run: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Offloads: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Passes: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Penalties Conceded: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>PenaltyGoals: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Red Cards: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Scrums Lost: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Scrums Won: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Total Scrums: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Tackle Missed: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Tackles: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Tries: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Try Assist: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Turnovers Won: </td>
                            <!-- Ditto above -->
                        </tr>
                        <tr>
                            <td>Yellow Cards: </td>
                            <!-- Ditto above -->
                        </tr>
                    </tbody>
                </table>
            </tr>
    </tbody>
</table> *@